# Product Form (Simplified ProductNft)
# Demonstrates complex nested structures, multiple fields, and conditional display

type: group
name: product_form
label:
  ko: 상품 등록
  en: Product Registration
description:
  ko: 새 상품을 등록합니다.
  en: Register a new product.
action:
  method: post
  url: /api/products
buttons:
  - type: submit
    name: __submitted__
    value: save
    class: btn btn-primary
    text:
      ko: 저장
      en: Save
  - type: button
    class: btn btn-secondary
    text:
      ko: 미리보기
      en: Preview

properties:
  # Basic Information
  basic:
    type: group
    label:
      ko: 기본 정보
      en: Basic Information
    class: card mb-3
    group_class: card-body
    properties:
      status:
        type: choice
        label:
          ko: 상태
          en: Status
        default: 1
        items:
          0:
            ko: 비활성
            en: Inactive
          1:
            ko: 활성
            en: Active

      name:
        type: text
        label:
          ko: 상품명
          en: Product Name
        placeholder:
          ko: 상품명을 입력하세요
          en: Enter product name
        rules:
          required: true
          minlength: 2
          maxlength: 100
        messages:
          ko:
            required: 상품명을 입력해주세요.
          en:
            required: Please enter a product name.

      description:
        type: textarea
        label:
          ko: 간단 설명
          en: Short Description
        placeholder:
          ko: 상품에 대한 간단한 설명을 입력하세요.
          en: Enter a brief description of the product.
        rows: 3
        rules:
          maxlength: 500
        messages:
          ko:
            maxlength: 설명은 {0}자를 초과할 수 없습니다.
          en:
            maxlength: Description cannot exceed {0} characters.

  # Display Settings
  display:
    type: group
    label:
      ko: 노출 설정
      en: Display Settings
    class: card mb-3
    group_class: card-body
    properties:
      display_type:
        type: choice
        label:
          ko: 노출 기간
          en: Display Period
        default: 1
        items:
          0:
            ko: 노출 안함
            en: Hidden
          1:
            ko: 상시 노출
            en: Always Visible
          2:
            ko: 기간 설정
            en: Custom Period

      # Date range - shown only when display_type == 2
      display_period:
        type: group
        class: mt-3
        group_class: row g-2
        display_switch: .display_type == 2
        properties:
          start_date:
            type: datetime
            label:
              ko: 시작일
              en: Start Date
            class: col-md-6
            rules:
              required: ..display_type == 2
            messages:
              ko:
                required: 시작일을 선택해주세요.
              en:
                required: Please select a start date.

          end_date:
            type: datetime
            label:
              ko: 종료일
              en: End Date
            class: col-md-6
            rules:
              required: ..display_type == 2
            messages:
              ko:
                required: 종료일을 선택해주세요.
              en:
                required: Please select an end date.

  # Pricing
  pricing:
    type: group
    label:
      ko: 가격 설정
      en: Pricing
    class: card mb-3
    group_class: card-body
    properties:
      price_type:
        type: choice
        label:
          ko: 가격 유형
          en: Price Type
        default: 0
        items:
          0:
            ko: 무료
            en: Free
          1:
            ko: 유료
            en: Paid

      # Price fields - shown only when price_type == 1
      price_info:
        type: group
        class: mt-3
        group_class: row g-2
        display_switch: .price_type == 1
        properties:
          original_price:
            type: number
            label:
              ko: 정가
              en: Original Price
            class: col-md-6
            default: 0
            rules:
              min: 0
            messages:
              ko:
                min: 0 이상의 금액을 입력해주세요.
              en:
                min: Please enter an amount of 0 or more.

          sale_price:
            type: number
            label:
              ko: 판매가
              en: Sale Price
            class: col-md-6
            default: 0
            rules:
              required: ..price_type == 1
              min: 0
            messages:
              ko:
                required: 판매가를 입력해주세요.
                min: 0 이상의 금액을 입력해주세요.
              en:
                required: Please enter a sale price.
                min: Please enter an amount of 0 or more.

  # Categories - Multiple select with sorting
  categories[]:
    type: select
    label:
      ko: 카테고리
      en: Categories
    description:
      ko: 하나 이상의 카테고리를 선택하세요.
      en: Select one or more categories.
    multiple: true
    sortable: true
    items:
      "":
        ko: 선택하세요
        en: Please select
      electronics:
        ko: 전자기기
        en: Electronics
      fashion:
        ko: 패션
        en: Fashion
      home:
        ko: 홈/리빙
        en: Home & Living
      sports:
        ko: 스포츠
        en: Sports
      beauty:
        ko: 뷰티
        en: Beauty
    rules:
      required: true
    messages:
      ko:
        required: 최소 1개의 카테고리를 선택해주세요.
      en:
        required: Please select at least one category.

  # Tags - Multiple text fields
  tags[]:
    type: text
    label:
      ko: 태그
      en: Tags
    description:
      ko: 상품 검색을 위한 태그를 입력하세요.
      en: Enter tags for product search.
    placeholder:
      ko: 태그 입력
      en: Enter tag
    multiple: true
    sortable: true
    rules:
      maxlength: 30
      unique: true
    messages:
      ko:
        maxlength: 태그는 {0}자 이내로 입력해주세요.
        unique: 중복된 태그는 입력할 수 없습니다.
      en:
        maxlength: Tags must be {0} characters or less.
        unique: Duplicate tags are not allowed.

  # Product Options
  has_options:
    type: choice
    label:
      ko: 옵션 사용
      en: Use Options
    default: 0
    items:
      0:
        ko: 사용 안함
        en: No Options
      1:
        ko: 사용함
        en: Use Options

  # Options configuration - shown when has_options == 1
  options:
    type: group
    label:
      ko: 옵션 설정
      en: Option Configuration
    class: card mb-3
    group_class: card-body
    display_switch: .has_options == 1
    properties:
      groups[]:
        type: group
        label:
          ko: 옵션 그룹
          en: Option Groups
        description:
          ko: 옵션을 추가하고 값을 설정하세요.
          en: Add options and set their values.
        multiple: true
        sortable: true
        group_class: border rounded p-3 mb-2
        properties:
          option_name:
            type: text
            label:
              ko: 옵션명
              en: Option Name
            placeholder:
              ko: "예: 사이즈, 컬러"
              en: "e.g., Size, Color"
            rules:
              required: basic.has_options == 1
            messages:
              ko:
                required: 옵션명을 입력해주세요.
              en:
                required: Please enter an option name.

          option_values[]:
            type: text
            label:
              ko: 옵션값
              en: Option Values
            placeholder:
              ko: "예: S, M, L"
              en: "e.g., S, M, L"
            multiple: true
            sortable: true
            rules:
              unique: true
            messages:
              ko:
                unique: 중복된 값은 입력할 수 없습니다.
              en:
                unique: Duplicate values are not allowed.

  # Inventory
  inventory:
    type: group
    label:
      ko: 재고 관리
      en: Inventory Management
    class: card mb-3
    group_class: card-body
    properties:
      track_inventory:
        type: choice
        label:
          ko: 재고 추적
          en: Track Inventory
        default: 0
        items:
          0:
            ko: 사용 안함
            en: Disabled
          1:
            ko: 사용함
            en: Enabled

      stock_info:
        type: group
        class: mt-3
        group_class: row g-2
        display_switch: .track_inventory == 1
        properties:
          quantity:
            type: number
            label:
              ko: 재고 수량
              en: Stock Quantity
            class: col-md-6
            default: 0
            rules:
              required: ..track_inventory == 1
              min: 0
            messages:
              ko:
                required: 재고 수량을 입력해주세요.
                min: 0 이상의 수량을 입력해주세요.
              en:
                required: Please enter stock quantity.
                min: Please enter a quantity of 0 or more.

          low_stock_alert:
            type: number
            label:
              ko: 재고 경고 수준
              en: Low Stock Alert
            description:
              ko: 이 수량 이하가 되면 알림을 받습니다.
              en: Get notified when stock falls below this level.
            class: col-md-6
            default: 10
            rules:
              min: 0

  # SEO Settings
  seo:
    type: group
    label:
      ko: SEO 설정
      en: SEO Settings
    class: card mb-3
    group_class: card-body
    properties:
      meta_title:
        type: text
        label:
          ko: 메타 타이틀
          en: Meta Title
        rules:
          maxlength: 60
        messages:
          ko:
            maxlength: 메타 타이틀은 {0}자 이내로 입력해주세요.
          en:
            maxlength: Meta title must be {0} characters or less.

      meta_description:
        type: textarea
        label:
          ko: 메타 설명
          en: Meta Description
        rows: 2
        rules:
          maxlength: 160
        messages:
          ko:
            maxlength: 메타 설명은 {0}자 이내로 입력해주세요.
          en:
            maxlength: Meta description must be {0} characters or less.
